@go.Package { name = "github.com/47monad/sercon/go-gen/mongodbconf"}
@ModuleInfo { minPklVersion = "0.26.0" }
module o47monad.sercon.MongodbConfig

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.8.0#/go.pkl"

class Options {
  replicaSet: String
}

class URIBuilder {
  username: String?

  password: String?

  dbName: String

  hosts: Listing<String>

  options: Options?
}

enabled: Boolean

uri: String(cannotSetWithUriBuilder)?

dbName: String

uriBuilder: URIBuilder?

hidden cannotSetWithUriBuilder = (_) ->
    if (uriBuilder != null)
      throw("uri and uriBuilder cannot be set at the same time.")
    else true
